function parseURL(e){var r,t,s,n=document.createElement("a"),o={};for(n.href=e,r=n.search.replace(/^\?/,"").split("&"),s=0;s<r.length;s++)t=r[s].split("="),o[t[0]]=t[1];return{hostname:n.hostname,pathname:n.pathname}}var insertPHP=$("form").attr("action");$("form").on("submit",function(e){e.preventDefault(),$("input#url, input#username").css("border-color","initial");var r,t=$("input#username").val(),s=$("input#url").val(),n=$("input#title").val(),o=$("input#description").val(),a="username="+t+"&url="+s+"&title="+n+"&description="+o;if(t.length>0&&s.length>0){var p=parseURL(s).hostname,l=parseURL(s).pathname,u=l.substr(l.length-4);"docs.google.com"==p&&"/pub"==u?$.ajax({type:"POST",url:insertPHP,data:a,success:function(e){if("success"==e){if("odie.us"==home)var s=t+"."+home;else var s=home+"?u="+t;r='<p><strong>Success!</strong><br>Here&apos;s your Odie:</p><p><a href="http://'+s+'">'+s+"</a></p>"}else r="exists"==e?"<p>That username already exists!<br>Try another</p>":"error"==e?"<p>??? something went wrong</p>":"<p>eh?</p>";$("#response").html(r)}}):($("input#url").css("border-color","red"),$("#response").html("<p>bad doc url</p>"))}else 0==t.length&&$("input#username").css("border-color","red"),0==s.length&&$("input#url").css("border-color","red"),$("#response").html("<p>form incomplete</p>");return!1});
//# sourceMappingURL=/main.min.js.map